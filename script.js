// Language translations
const translations = {
    en: {
        // Navigation
        'Azerbaijan Guide': 'Azerbaijan Guide',
        'Home': 'Home',
        'About': 'About',
        'Guide': 'Guide',
        'Attractions': 'Attractions',
        'Contact': 'Contact',
        
        // Hero Section
        'Welcome to Azerbaijan': 'Welcome to Azerbaijan',
        'Discover the land of fire, rich culture, and warm hospitality': 'Discover the land of fire, rich culture, and warm hospitality',
        'Meet Your Guide': 'Meet Your Guide',
        'Explore Attractions': 'Explore Attractions',
        
        // About Section
        'About Azerbaijan': 'About Azerbaijan',
        'Population': 'Population',
        'Square Kilometers': 'Square Kilometers',
        'UNESCO Sites': 'UNESCO Sites',
        
        // Guide Section
        'Your Personal Guide': 'Your Personal Guide',
        'Elshan Mammadov': 'Elshan Mammadov',
        'Certified Professional Tour Guide': 'Certified Professional Tour Guide',
        'Services Offered:': 'Services Offered:',
        'Customized city tours': 'Customized city tours',
        'Cultural heritage visits': 'Cultural heritage visits',
        'Mountain and nature tours': 'Mountain and nature tours',
        'Culinary experiences': 'Culinary experiences',
        'Airport transfers': 'Airport transfers',
        'Book Your Tour': 'Book Your Tour',
        
        // Attractions Section
        'Must-See Attractions': 'Must-See Attractions',
        'Baku Old City (Icherisheher)': 'Baku Old City (Icherisheher)',
        'Gobustan Rock Art': 'Gobustan Rock Art',
        'Flame Towers': 'Flame Towers',
        'Sheki Historical Center': 'Sheki Historical Center',
        
        // Contact Section
        'Contact Your Guide': 'Contact Your Guide',
        'Phone': 'Phone',
        'Email': 'Email',
        'Location': 'Location',
        'Available Hours': 'Available Hours',
        'Baku, Azerbaijan': 'Baku, Azerbaijan',
        'Daily: 8:00 AM - 8:00 PM': 'Daily: 8:00 AM - 8:00 PM',
        'Your Name': 'Your Name',
        'Your Email': 'Your Email',
        'Your Phone (Optional)': 'Your Phone (Optional)',
        'Select Tour Type': 'Select Tour Type',
        'City Tour': 'City Tour',
        'Cultural Tour': 'Cultural Tour',
        'Nature Tour': 'Nature Tour',
        'Custom Tour': 'Custom Tour',
        'Your Message': 'Your Message',
        'Send Message': 'Send Message',
        
        // Footer
        'Quick Links': 'Quick Links',
        'Contact Info': 'Contact Info',
        'All rights reserved.': 'All rights reserved.'
    },
    
    ru: {
        // Navigation
        'Azerbaijan Guide': 'Путеводитель по Азербайджану',
        'Home': 'Главная',
        'About': 'О нас',
        'Guide': 'Гид',
        'Attractions': 'Достопримечательности',
        'Contact': 'Контакты',
        
        // Hero Section
        'Welcome to Azerbaijan': 'Добро пожаловать в Азербайджан',
        'Discover the land of fire, rich culture, and warm hospitality': 'Откройте для себя страну огня, богатую культуру и теплое гостеприимство',
        'Meet Your Guide': 'Познакомьтесь с гидом',
        'Explore Attractions': 'Исследуйте достопримечательности',
        
        // About Section
        'About Azerbaijan': 'Об Азербайджане',
        'Population': 'Население',
        'Square Kilometers': 'Квадратных километров',
        'UNESCO Sites': 'Объектов ЮНЕСКО',
        
        // Guide Section
        'Your Personal Guide': 'Ваш личный гид',
        'Elshan Mammadov': 'Эльшан Мамедов',
        'Certified Professional Tour Guide': 'Сертифицированный профессиональный гид',
        'Services Offered:': 'Предлагаемые услуги:',
        'Customized city tours': 'Индивидуальные городские туры',
        'Cultural heritage visits': 'Посещения культурного наследия',
        'Mountain and nature tours': 'Горные и природные туры',
        'Culinary experiences': 'Кулинарные впечатления',
        'Airport transfers': 'Трансферы из аэропорта',
        'Book Your Tour': 'Забронировать тур',
        
        // Attractions Section
        'Must-See Attractions': 'Обязательные к посещению достопримечательности',
        'Baku Old City (Icherisheher)': 'Старый город Баку (Ичеришехер)',
        'Gobustan Rock Art': 'Наскальные рисунки Гобустана',
        'Flame Towers': 'Пламенные башни',
        'Sheki Historical Center': 'Исторический центр Шеки',
        
        // Contact Section
        'Contact Your Guide': 'Свяжитесь с гидом',
        'Phone': 'Телефон',
        'Email': 'Электронная почта',
        'Location': 'Местоположение',
        'Available Hours': 'Часы работы',
        'Baku, Azerbaijan': 'Баку, Азербайджан',
        'Daily: 8:00 AM - 8:00 PM': 'Ежедневно: 8:00 - 20:00',
        'Your Name': 'Ваше имя',
        'Your Email': 'Ваш email',
        'Your Phone (Optional)': 'Ваш телефон (необязательно)',
        'Select Tour Type': 'Выберите тип тура',
        'City Tour': 'Городской тур',
        'Cultural Tour': 'Культурный тур',
        'Nature Tour': 'Природный тур',
        'Custom Tour': 'Индивидуальный тур',
        'Your Message': 'Ваше сообщение',
        'Send Message': 'Отправить сообщение',
        
        // Footer
        'Quick Links': 'Быстрые ссылки',
        'Contact Info': 'Контактная информация',
        'All rights reserved.': 'Все права защищены.'
    },
    
    sv: {
        // Navigation
        'Azerbaijan Guide': 'Azerbajdzjan Guide',
        'Home': 'Hem',
        'About': 'Om',
        'Guide': 'Guide',
        'Attractions': 'Sevärdheter',
        'Contact': 'Kontakt',
        
        // Hero Section
        'Welcome to Azerbaijan': 'Välkommen till Azerbajdzjan',
        'Discover the land of fire, rich culture, and warm hospitality': 'Upptäck eldens land, rik kultur och varm gästfrihet',
        'Meet Your Guide': 'Träffa din guide',
        'Explore Attractions': 'Utforska sevärdheter',
        
        // About Section
        'About Azerbaijan': 'Om Azerbajdzjan',
        'Population': 'Befolkning',
        'Square Kilometers': 'Kvadratkilometer',
        'UNESCO Sites': 'UNESCO-platser',
        
        // Guide Section
        'Your Personal Guide': 'Din personliga guide',
        'Elshan Mammadov': 'Elshan Mammadov',
        'Certified Professional Tour Guide': 'Certifierad professionell guide',
        'Services Offered:': 'Erbjudna tjänster:',
        'Customized city tours': 'Anpassade stadsrundor',
        'Cultural heritage visits': 'Kulturarvsbesök',
        'Mountain and nature tours': 'Bergs- och naturturer',
        'Culinary experiences': 'Kulinariska upplevelser',
        'Airport transfers': 'Flygplatstransfer',
        'Book Your Tour': 'Boka din tur',
        
        // Attractions Section
        'Must-See Attractions': 'Måste-se sevärdheter',
        'Baku Old City (Icherisheher)': 'Bakus gamla stad (Icherisheher)',
        'Gobustan Rock Art': 'Gobustans hällristningar',
        'Flame Towers': 'Flammtornen',
        'Sheki Historical Center': 'Shekis historiska centrum',
        
        // Contact Section
        'Contact Your Guide': 'Kontakta din guide',
        'Phone': 'Telefon',
        'Email': 'E-post',
        'Location': 'Plats',
        'Available Hours': 'Tillgängliga timmar',
        'Baku, Azerbaijan': 'Baku, Azerbajdzjan',
        'Daily: 8:00 AM - 8:00 PM': 'Dagligen: 8:00 - 20:00',
        'Your Name': 'Ditt namn',
        'Your Email': 'Din e-post',
        'Your Phone (Optional)': 'Din telefon (valfritt)',
        'Select Tour Type': 'Välj turtyp',
        'City Tour': 'Stadsrundtur',
        'Cultural Tour': 'Kulturrundtur',
        'Nature Tour': 'Naturtur',
        'Custom Tour': 'Anpassad tur',
        'Your Message': 'Ditt meddelande',
        'Send Message': 'Skicka meddelande',
        
        // Footer
        'Quick Links': 'Snabblänkar',
        'Contact Info': 'Kontaktinfo',
        'All rights reserved.': 'Alla rättigheter förbehållna.'
    }
};

// Current language
let currentLang = 'en';

// DOM elements
const langButtons = document.querySelectorAll('.lang-btn');
const elementsWithData = document.querySelectorAll('[data-en]');

// Initialize the website
document.addEventListener('DOMContentLoaded', function() {
    initializeWebsite();
});

function initializeWebsite() {
    // Set up language switching
    setupLanguageSwitching();
    
    // Set up smooth scrolling for navigation links
    setupSmoothScrolling();
    
    // Set up mobile menu
    setupMobileMenu();
    
    // Set up form handling
    setupFormHandling();
    
    // Set up scroll effects
    setupScrollEffects();
    
    // Set up animations
    setupAnimations();
}

function setupLanguageSwitching() {
    langButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            changeLanguage(lang);
            
            // Update active button
            langButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
        });
    });
}

function changeLanguage(lang) {
    currentLang = lang;
    
    // Update all elements with data attributes
    elementsWithData.forEach(element => {
        const dataKey = element.getAttribute(`data-${lang}`);
        if (dataKey) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = dataKey;
            } else {
                element.textContent = dataKey;
            }
        }
    });
    
    // Update select options
    const tourTypeSelect = document.getElementById('tour-type');
    if (tourTypeSelect) {
        const options = tourTypeSelect.querySelectorAll('option');
        options.forEach(option => {
            const dataKey = option.getAttribute(`data-${lang}`);
            if (dataKey) {
                option.textContent = dataKey;
            }
        });
    }
    
    // Update document title
    document.title = translations[lang]['Azerbaijan Guide'] + ' - Your Personal Guide to Azerbaijan';
}

function setupSmoothScrolling() {
    const navLinks = document.querySelectorAll('.nav-link');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
                const offsetTop = targetSection.offsetTop - 80; // Account for fixed navbar
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });
}

function setupMobileMenu() {
    const hamburger = document.querySelector('.hamburger');
    const navMenu = document.querySelector('.nav-menu');
    
    if (hamburger && navMenu) {
        hamburger.addEventListener('click', function() {
            navMenu.classList.toggle('active');
            hamburger.classList.toggle('active');
        });
        
        // Close mobile menu when clicking on a link
        const mobileNavLinks = navMenu.querySelectorAll('.nav-link');
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', function() {
                navMenu.classList.remove('active');
                hamburger.classList.remove('active');
            });
        });
    }
}

function setupFormHandling() {
    const contactForm = document.querySelector('.contact-form');
    
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const name = formData.get('name');
            const email = formData.get('email');
            const phone = formData.get('phone');
            const tourType = formData.get('tour-type');
            const message = formData.get('message');
            
            // Simple validation
            if (!name || !email || !tourType || !message) {
                showNotification('Please fill in all required fields.', 'error');
                return;
            }
            
            // Simulate form submission
            showNotification('Thank you! Your message has been sent. We will contact you soon.', 'success');
            
            // Reset form
            this.reset();
            
            // Reset labels
            const labels = this.querySelectorAll('label');
            labels.forEach(label => {
                label.style.top = '1rem';
                label.style.fontSize = '1rem';
                label.style.color = '#999';
            });
        });
    }
    
    // Form field animations
    const formGroups = document.querySelectorAll('.form-group');
    formGroups.forEach(group => {
        const input = group.querySelector('input, textarea, select');
        const label = group.querySelector('label');
        
        if (input && label) {
            input.addEventListener('focus', function() {
                label.style.top = '-0.5rem';
                label.style.fontSize = '0.8rem';
                label.style.color = '#e74c3c';
                label.style.background = 'white';
                label.style.padding = '0 0.5rem';
            });
            
            input.addEventListener('blur', function() {
                if (!this.value) {
                    label.style.top = '1rem';
                    label.style.fontSize = '1rem';
                    label.style.color = '#999';
                    label.style.background = 'transparent';
                    label.style.padding = '0';
                }
            });
        }
    });
}

function setupScrollEffects() {
    // Navbar scroll effect
    window.addEventListener('scroll', function() {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 100) {
            navbar.style.background = 'rgba(255, 255, 255, 0.98)';
            navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)';
        } else {
            navbar.style.background = 'rgba(255, 255, 255, 0.95)';
            navbar.style.boxShadow = 'none';
        }
    });
    
    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe elements for animation
    const animateElements = document.querySelectorAll('.stat, .attraction-card, .contact-item');
    animateElements.forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
}

function setupAnimations() {
    // Counter animation for stats
    const stats = document.querySelectorAll('.stat h3');
    const observerOptions = {
        threshold: 0.5
    };
    
    const statsObserver = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const target = entry.target;
                const finalValue = target.textContent;
                const isNumber = !isNaN(parseInt(finalValue));
                
                if (isNumber) {
                    animateCounter(target, parseInt(finalValue));
                }
            }
        });
    }, observerOptions);
    
    stats.forEach(stat => statsObserver.observe(stat));
}

function animateCounter(element, finalValue) {
    let currentValue = 0;
    const increment = finalValue / 50;
    const timer = setInterval(() => {
        currentValue += increment;
        if (currentValue >= finalValue) {
            element.textContent = finalValue.toLocaleString();
            clearInterval(timer);
        } else {
            element.textContent = Math.floor(currentValue).toLocaleString();
        }
    }, 30);
}

function showNotification(message, type = 'info') {
    // Create notification element
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.textContent = message;
    
    // Style the notification
    notification.style.position = 'fixed';
    notification.style.top = '20px';
    notification.style.right = '20px';
    notification.style.padding = '15px 20px';
    notification.style.borderRadius = '5px';
    notification.style.color = 'white';
    notification.style.fontWeight = '600';
    notification.style.zIndex = '10000';
    notification.style.transform = 'translateX(100%)';
    notification.style.transition = 'transform 0.3s ease';
    
    // Set background color based on type
    if (type === 'success') {
        notification.style.background = '#27ae60';
    } else if (type === 'error') {
        notification.style.background = '#e74c3c';
    } else {
        notification.style.background = '#3498db';
    }
    
    // Add to page
    document.body.appendChild(notification);
    
    // Animate in
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
    }, 100);
    
    // Remove after 5 seconds
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 300);
    }, 5000);
}

// Add CSS for mobile menu
const mobileMenuCSS = `
    @media (max-width: 768px) {
        .nav-menu {
            position: fixed;
            top: 80px;
            left: -100%;
            width: 100%;
            height: calc(100vh - 80px);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            padding-top: 2rem;
            transition: left 0.3s ease;
            z-index: 999;
        }
        
        .nav-menu.active {
            left: 0;
        }
        
        .nav-menu .nav-link {
            margin: 1rem 0;
            font-size: 1.2rem;
        }
        
        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
    }
`;

// Add the CSS to the document
const style = document.createElement('style');
style.textContent = mobileMenuCSS;
document.head.appendChild(style); 

// Hamburger menu toggle
const hamburger = document.querySelector('.hamburger');
const mobileNav = document.getElementById('mobileNav');
const navLinks = document.querySelectorAll('.mobile-nav .nav-link');
const closeBtn = document.querySelector('.mobile-nav-close');

if (hamburger && mobileNav) {
    hamburger.addEventListener('click', () => {
        mobileNav.classList.toggle('active');
    });

    // Close mobile nav when a link is clicked
    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            mobileNav.classList.remove('active');
        });
    });

    // Optional: Close mobile nav when clicking outside
    document.addEventListener('click', (e) => {
        if (
            mobileNav.classList.contains('active') &&
            !mobileNav.contains(e.target) &&
            !hamburger.contains(e.target)
        ) {
            mobileNav.classList.remove('active');
        }
    });
} 

if (closeBtn && mobileNav) {
    closeBtn.addEventListener('click', () => {
        mobileNav.classList.remove('active');
    });
} 